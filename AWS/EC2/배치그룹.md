워크로드의 유형에 따라 세 가지 배치 전략 중 하나를 사용하여 배치 그룹을 생성할 수 있다.

### 1. 클러스터
- 인스턴스를 단일 가용 영역 안에 서로 근접하게 패킹한다.
- 이 전략은 워크로드가 고성능 컴퓨팅(HPC) 애플리케이션에서 일반적으로 강하게 결합된 노드 간 통신에 적절한 방법으로 네트워크 성능을 최대화한다.

![클러스터](/images/클러스터.png)

- 장점
  - 향상된 네트워킹 기능이 활성화된 경우, 인스턴스 간에 10 Gbps의 대역폭을 제공하여 뛰어난 네트워크 성능을 제공합니다.
- 단점
  - 랙이 실패할 경우, 모든 인스턴스가 동시에 실패한다.
- 사용 사례
  - 빅데이터 작업을 빠르게 완료해야 하는 경우
  - 극도로 낮은 지연 시간과 높은 네트워크 처리량이 필요한 애플리케이션


### 2. 분산 (Spread)
- 인스턴스를 논리적 파티션에 분산해 한 파티션에 있는 인스턴스 그룹이 다른 파티션의 인스턴스 그룹과 기본 하드웨어를 공유하지 않게 한다.
- 가용 영역 그룹당 최대 7개의 인스턴스

![분산](/images/분산.png)

- 장점
- 가용 영역을 걸쳐 확장 가능
- 동시에 발생하는 장애의 위험을 줄임
- EC2 인스턴스는 서로 다른 물리적 하드웨어에 위치함
- 단점
  - 하나의 배치 그룹 당 가용 영역별 최대 7개의 인스턴스로 제한됨
- 사용 사례
  - 고가용성을 극대화해야 하는 애플리케이션
  - 각 인스턴스가 서로의 장애로부터 격리되어야 하는 중요한 애플리케이션


### 3. 파티션 (Partition)
- 인스턴스를 논리적 파티션에 분산해 한 파티션에 있는 인스턴스 그룹이 다른 파티션의 인스턴스 그룹과 기본 하드웨어를 공유하지 않게 한다.
- 소규모의 인스턴스 그룹을 다른 기본 하드웨어로 분산하여 상호 관련 오류를 줄인다.
- 그룹 당 수백 개의 EC2 인스턴스로 확장 가능하다.
- 하나의 가용 영역당 최대 7개의 파티션을 지원한다.
- 최대 100개 까지의 EC2 인스턴스를 사용할 수 있다.
- 한 파티션의 인스턴스는 다른  파티션의 인스턴스와는 랙을 공유하지 않는다.
- 사용 사례 : HDFS, HBase, Cassandra, Kafka

![파티션](/images/파티션.png)


### 배치 그룹 생성해보기
EC2 > 네트워크 및 보안 > 배치 그룹 > 배치 그룹 생성

1. 클러스터 그룹 생성

![클러스터 그룹 생성](/images/클러스터그룹생성.png)

2. 분산 그룹 생성

![분산 그룹 생성](/images/분산그룹생성.png)
3. 파티션 그룹 생성

![파티션 그룹 생성](/images/파티션그룹생성.png)

이렇게 세 가지 그룹이 생성된 걸 확인할 수 있다.

![배치 그룹 생성 확인](/images/배치그룹생성확인.png)

이제 인스턴스를 생성하는 화면에서 배치 그룹 옵션이 잘 드러나는지 확인해보자.

![배치 그룹 옵션 확인](/images/배치그룹옵션확인.png)

잘 생성된 것을 확인할 수 있다.