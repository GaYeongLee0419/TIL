# 프로세스의 개념

프로세스는 CPU와 메모리를 할당받아 실행시키는 프로그램이다.

가장 먼저 실행되는 프로세스는 init이며 PID는 1이다.

프로세스 init에 의해 다른 모든 프로세스들이 시작된다.

# 프로세스의 유형

## Foreground Process & Background Process

### Forground Process

- 사용자와 상호작용하는 프로세스
- 화면에서 실행되는 것이 보이는 프로세스
- e.g) 응용 프로그램, 명령어 등

### Background Process

- 사용자와 직접적인 대화를 하지 않고 뒤에서 실행되는 프로세스
- 사용자의 입력에 관계없이 실행되는 프로세스
- 실행은 되지만 화면에 나타나지 않고 실행되는 프로세스
- e.g) 시스템 프로그램, 데몬 등

## fork()와 exec()

사용자가 새로운 프로세스를 생성하기 위해 사용하는 시스템 호출함수이다.

### fork()

- 기존 프로세스를 복제하는 방식이다.
- 메모리를 할당한다.
- 원본 프로세스를 부모 프로세스, 새로 복제된 프로세스를 자식 프로세스라고 한다.

### exec()

- 호출하는 프로세스가 새로운 프로세스로 변경되는 방식이다.
- 메모리를 할당하지 않는다.

### 기출

다음 중 프로세스에 관련된 설명으로 알맞은 것은?

1. 최초의 프로세스는 init으로 PID는 0이다.
2. 시스템 운영에 필요한 프로세스는 fork방식으로 생성된다.
3. 프로세스 호출은 fork와 inetd 방식이 있다.
4. inetd 방식으로 호출된 프로세스는 작업 종료 유무에 상관없이 항상 메모리에 상주한다.

<aside>
💡 1. 최초의 프로세스 init의 PID는 1이다.
3. 프로세스 호출 방식은 fork, exec이다.
4. inted 방식으로 호출된 프로세스는 서비스 요청이 들어왔을 때 관련 프로세스를 실행시키고 완료 후 종료시킨다. 항상 메모리에 상주하는 것은 standalone 방식이다.

</aside>

## Daemon

리눅스 시스템이 부팅 시 자동으로 실행되는 백그라운드 프로세스이다.

메모리에 상주하면서 사용자의 특정 요청이 오면 즉시 실행되는 대기 중인 서버 프로세스이다.

### 서비스 데몬을 구동하는 방법

서비스 데몬 : xinetd, sshd, nfs, httpd, mysqld, sendmail 등

- standalone 데몬
    1. 서비스가 요청이 들어오기 전에 서비스가 메모리에 상주하는 단독 실행 방식 → 서비스 요청이 많은 프로세스들로 설정하는 게 좋다.
    2. 빠른 응답속도를 요하는 경우에 사용
    3. 메모리 점유로 인한 서버 부하가 큼
    4. /etc/inted.d/ : 실행 스크립트 위치
    5. 관련 서비스 : http, mysql, nameserver, sendmail
- inted 데몬(슈퍼 데몬)
    1. 서비스 요청이 있을 경우에만 메모리에 상주한다. → 운영 빈도수가 낮은 프로세스들로 설정해야 한다.
    2. 관련 서비스 : Telnet, pop3, finger
- inted 타입 데몬
    1. inted 데몬이 활성화가 되어야만 해당 서비스 제공
    2. /etc/xinted.d/ : 실행 스크립트 위치
    3. 관련 서비스 : Telnet, FTP, rlogin


### 기출

다음 중 웹 서버 데몬을 구동하는 방법이 아닌 것은?

1. service httpd start
2. /etc/rc.d/httpd start
3. /etc/init.d/httpd restart
4. /etc/rc.d/init.d/httpd restart

<aside>
💡 웹 서버는 standalone 타입의 데몬으로 실행 방법은 두 가지가 있다.
‘**service 서비스명 실행옵션’ 
‘/etc/init.d/서비스명 [실행옵션]**

</aside>

## 시그널

이벤트 발생을 전달해주는 소프트웨어 인터럽트이다.

kill -l 로 시그널 리스트를 확인할 수 있다.

### 시그널 리스트

- SIGINT
    - 발생 조건 : Ctrl + c
    - 기본 동작 : 종료 후 재시작
- SIGKILL
    - 발생 조건 : 프로세스 강제 종료 시
    - 기본 동작 : 종료
- SIGTERM
    - 발생 조건 : Kill 시스템 호출 시
    - 기본 동작 : 종료
- SIGTSTP
    - 발생 조건 : Ctrl + z
    - 기본 동작 : 프로세스 대기로 전환

### 기출

시그널에 관련된 설명으로 틀린 것은?

1. SIGKILL은 프로세스를 강제로 종료시키는 시그널이다.
2. SIGINT는 키보드로부터 오는 인터럽트 시그널로 실행을 중지시킨다.
3. 시그널의 전체 목록은 명령행에서 ‘Kill -a’ 명령으로 확인할 수 있다.
4. 특정 프로세스가 다른 프로세스에게 메시지를 보낼 때 시그널을 이용한다.

<aside>
💡 시그널의 전체 목록을 확인하는 명령어는 ‘**Kill -l**’ 이다.

</aside>

다음 중 Ctrl + z입력 시 전송되는 시그널로 알맞은 것은?

1. SIGINT
2. SIGQUIT
3. SIGSTOP
4. SIGTSTP

<aside>
💡 SIGSTOP : SIGCONT 받을 때 종료하는 시그널이다.

</aside>